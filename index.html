<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="assets/css/style.css">


    <title>Hangman</title>
</head>

<body>


    <h1>ladies and gentlemen welcome to ttTTttTarrrgetttt!</h1>
    <h2>Press Any Key To Start!</h2>

    <h2>Wins:
        <div id="wins"></div>
    </h2>
    <h3>Current Word:
        <div id="current-word"></div>
    </h3>

    <h3>Number of Guesses Left:
        <div id="guesses-left"></div>
    </h3>
    <h3>Letters Already Guessed:
        <div id="guessed"></div>
    </h3>
    <h1 id="game-over">GAME OVER</h1>
    <h1 id="you-win">YOU WIN!</h1>
    <h1 id="play-again">PRESS ANY KEY TO PLAY AGAIN</h1>


    <script>
        // List of possible words
        var wordList = ["adagio", "allegro", "andante", "cadenza", "capriccio", "concerto", "crescendo", "diminuendo",
            "dolce", "fermata", "fortissimo", "larghetto", "largo", "legato", "leggiero", "lento", "pianissimo",
            "pianoforte", "pizzicato", "presto", "ritardando", "rubato", "scherzo", "sforzando", "vibrato", "vivace"
        ];

        var alphabet = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h',
            'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's',
            't', 'u', 'v', 'w', 'x', 'y', 'z'
        ];



        var currentWord = [];

        var wordBeingGuessed = [];
        var guessedLetters = []; //letters guessed by user
        const maxAttempts = 8;
        var guessesLeft = 0;
        var wins = 0;
        var losses = 0;
        var gameStart = false; //game start
        var gameOver = false; //press any key to reset

        
        document.getElementById("play-again").style.display = "none";
            document.getElementById("game-over").style.display = "none";
            document.getElementById("you-win").style.display = "none";


        function newGame() {

            document.getElementById("play-again").style.display = "none";
            document.getElementById("game-over").style.display = "none";
            document.getElementById("you-win").style.display = "none";
            guessesLeft = maxAttempts;
            gameStart = false;
            currentWord = wordList[Math.floor(Math.random() * wordList.length)];
            console.log(currentWord);
            wordBeingGuessed = [];
            guessedLetters = [];

            for (i = 0; i < currentWord.length; i++) {

                console.log(currentWord.length);
                wordBeingGuessed.push("_");
            }

           

            updateDisplay();
        };

        function updateDisplay() {
            document.getElementById("wins").innerText = wins;
            console.log(currentWord);
            document.getElementById("current-word").innerText = ""; //hides the current word

            for (var i = 0; i < wordBeingGuessed.length; i++) {
                document.getElementById("current-word").innerText += wordBeingGuessed[i];
            }
            document.getElementById("guesses-left").innerText = guessesLeft; //should default to 8
            document.getElementById("guessed").innerTest =
                guessedLetters; //will update when user presses a letter to guess

                
            if (guessesLeft <= 0) {
                document.getElementById("game-over").style.display = "block";
                document.getElementById("play-again").style.display = "block";
                gameOver = true;
            }
        };

        //when user presses a key to reset the game
        document.onkeyup = function (event) {
            if (gameOver) {
                gameOver = false;
                newGame();
            } else {
                if (event.keyCode >= 65 && event.keyCode <= 90) {
                    newWord(event.key); //makes a new word
                }
            }


            function newWord(letter) {
                if (guessesLeft > 0) {
                    if (!gameStart) {
                        gameStart = true;
                    }
                }

                if (guessedLetters.indexOf(letter) === -1) {
                    guessedLetters.push(letter); //puts that letter into the letter guessed
                    validGuess(letter); //see if the letter was part of the word
                }
            }

            updateDisplay();
            checkWin();
        };

        function validGuess(letter) {
            var position = [];
            for (var i = 0; i < currentWord.length; i++) {
                if (currentWord[i] === letter) {
                    position.push(i);
                }
            }

            if (position.length <= 0) {
                guessesLeft--;
            } else {
                for (var i = 0; i < position.length; i++) {
                    wordBeingGuessed[position[i]] = letter;
                }
            }
        };



        function checkWin() {
            if (wordBeingGuessed.indexOf("_") === -1) {
                document.getElementById("you-win").style.display = "block";
                document.getElementById("play-again").style.display = "block";
                wins++;
                gameOver = true;
            }
        }
    
    
    </script>
</body>

</html>